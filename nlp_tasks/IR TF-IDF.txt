8. Information retrieval

2) tf-idf weighting

В этом задании необходимо обработать ту же самую коллекцию и реализовать поиск со взвешиванием документов на основе tf-idf:

- посчитать idf для каждого термина, который хотя бы раз встречается в коллекции
- посчитать tf-idf для произвольных запросов (неизвестные слова игнорируем)

Нужно использовать формулы:
tf = 1 + log(raw), где raw - количество вхождений данного термина в данный документ
idf = log(N / df), где N - количество документов в коллекции, а df – количество документов, в которых хотя бы один раз встречается данный термин
tf-idf = сумма произведений tf на idf для каждого термина из запроса

tf определяется для каждой пары термин-документ
idf определяется для каждого термина
tf-idf определяется для каждого документа (и конкретного запроса)

Основание логарифма в формулах tf и idf не важно, какое брать, если и в том, и в другом случае использовать одинаковое основание.